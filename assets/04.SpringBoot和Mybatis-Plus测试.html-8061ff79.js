import{_ as n,V as s,W as a,X as t}from"./framework-a569e214.js";const p="/img/springboot-blog/image-20220729145201657.png",e="/img/springboot-blog/image-20220729145321155.png",o="/img/springboot-blog/image-20220729150552983.png",c={},i=t(`<h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明" aria-hidden="true">#</a> 说明</h2><p>接下来我们开始进行博客前台模块的开发。</p><h2 id="创建主启动类" tabindex="-1"><a class="header-anchor" href="#创建主启动类" aria-hidden="true">#</a> 创建主启动类</h2><p>在<code>sanfen-blog</code>前台项目中，创建SpringBoot启动类：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hejin</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HeJin
 * <span class="token keyword">@date</span> 2022/07/29 14:29
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.hejin.mapper&quot;</span><span class="token punctuation">)</span> <span class="token comment">// mybatis-plus扫描配置</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlogApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">BlogApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="新建yaml配置文件" tabindex="-1"><a class="header-anchor" href="#新建yaml配置文件" aria-hidden="true">#</a> 新建yaml配置文件</h2><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7777</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/my<span class="token punctuation">-</span>blog<span class="token punctuation">?</span>characterEncoding=utf<span class="token punctuation">-</span>8<span class="token important">&amp;serverTimezone=Asia/Shanghai</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> root
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">multipart</span><span class="token punctuation">:</span>
      <span class="token key atrule">max-file-size</span><span class="token punctuation">:</span> 2MB
      <span class="token key atrule">max-request-size</span><span class="token punctuation">:</span> 5MB
<span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token comment"># 日志</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">db-config</span><span class="token punctuation">:</span>
      <span class="token key atrule">logic-delete-field</span><span class="token punctuation">:</span> delFlag
      <span class="token key atrule">logic-delete-value</span><span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token key atrule">logic-not-delete-value</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">id-type</span><span class="token punctuation">:</span> auto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据库新建文章表" tabindex="-1"><a class="header-anchor" href="#数据库新建文章表" aria-hidden="true">#</a> 数据库新建文章表</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>sf_article<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>title<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;标题&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>content<span class="token punctuation">\`</span></span> <span class="token keyword">longtext</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;文章内容&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>summary<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;文章摘要&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>category_id<span class="token punctuation">\`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;所属分类id&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>thumbnail<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;缩略图&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>is_top<span class="token punctuation">\`</span></span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;是否置顶（0否，1是）&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>status<span class="token punctuation">\`</span></span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;状态（0已发布，1草稿）&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>view_count<span class="token punctuation">\`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;访问量&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>is_comment<span class="token punctuation">\`</span></span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;是否允许评论 1是，0否&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>create_by<span class="token punctuation">\`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>create_time<span class="token punctuation">\`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>update_by<span class="token punctuation">\`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>update_time<span class="token punctuation">\`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>del_flag<span class="token punctuation">\`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;删除标志（0代表未删除，1代表已删除）&#39;</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">8</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;文章表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">\`</span>sf_article<span class="token punctuation">\`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>title<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>content<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>summary<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>category_id<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>thumbnail<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>is_top<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>status<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>view_count<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>is_comment<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>create_by<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>create_time<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>update_by<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>update_time<span class="token punctuation">\`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>del_flag<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;SpringSecurity从入门到精通&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;## 课程介绍\\n![image20211219121555979.png](https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/31/e7131718e9e64faeaf3fe16404186eb4.png)\\n\\n## 0. 简介1\\n\\n​	**Spring Security** 是 Spring 家族中的一个安全管理框架。相比与另外一个安全框架**Shiro**，它提供了更丰富的功能，社区资源也比Shiro丰富。\\n\\n​	一般来说中大型的项目都是使用**SpringSecurity** 来做安全框架。小项目有Shiro的比较多，因为相比与SpringSecurity，Shiro的上手更加的简单。\\n\\n​	 一般Web应用的需要进行**认证**和**授权**。\\n\\n​		**认证：验证当前访问系统的是不是本系统的用户，并且要确认具体是哪个用户**\\n\\n​		**授权：经过认证后判断当前用户是否有权限进行某个操作**\\n\\n​	而认证和授权也是SpringSecurity作为安全框架的核心功能。\\n\\n\\n\\n## 1. 快速入门\\n\\n### 1.1 准备工作\\n\\n​	我们先要搭建一个简单的SpringBoot工程\\n\\n① 设置父工程 添加依赖\\n\\n~~~~\\n    &lt;parent&gt;\\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\\n        &lt;version&gt;2.5.0&lt;/version&gt;\\n    &lt;/parent&gt;\\n    &lt;dependencies&gt;\\n        &lt;dependency&gt;\\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\\n        &lt;/dependency&gt;\\n        &lt;dependency&gt;\\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\\n            &lt;optional&gt;true&lt;/optional&gt;\\n        &lt;/dependency&gt;\\n    &lt;/dependencies&gt;\\n~~~~\\n\\n② 创建启动类\\n\\n~~~~\\n@SpringBootApplication\\npublic class SecurityApplication {\\n\\n    public static void main(String[] args) {\\n        SpringApplication.run(SecurityApplication.class,args);\\n    }\\n}\\n\\n~~~~\\n\\n③ 创建Controller\\n\\n~~~~java\\n\\nimport org.springframework.web.bind.annotation.RequestMapping;\\nimport org.springframework.web.bind.annotation.RestController;\\n\\n@RestController\\npublic class HelloController {\\n\\n    @RequestMapping(\\&quot;/hello\\&quot;)\\n    public String hello(){\\n        return \\&quot;hello\\&quot;;\\n    }\\n}\\n\\n~~~~\\n\\n\\n\\n### 1.2 引入SpringSecurity\\n\\n​	在SpringBoot项目中使用SpringSecurity我们只需要引入依赖即可实现入门案例。\\n\\n~~~~xml\\n        &lt;dependency&gt;\\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\\n        &lt;/dependency&gt;\\n~~~~\\n\\n​	引入依赖后我们在尝试去访问之前的接口就会自动跳转到一个SpringSecurity的默认登陆页面，默认用户名是user,密码会输出在控制台。\\n\\n​	必须登陆之后才能对接口进行访问。\\n\\n\\n\\n## 2. 认证\\n\\n### 2.1 登陆校验流程\\n![image20211215094003288.png](https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/31/414a87eeed344828b5b00ffa80178958.png)&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SpringSecurity框架教程-Spring Security+JWT实现项目级前端分离认证授权&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/31/948597e164614902ab1662ba8452e106.png&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2022-01-23 23:20:11&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;weq&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;adadaeqe&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;adad&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/15/fd2e9460c58a4af3bbeae5d9ed581688.png&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2022-01-21 14:58:30&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;dad&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;asdasda&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;sadad&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/15/737a0ed0b8ea430d8700a12e76aa1cd1.png&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2022-01-18 14:58:34&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;sdad&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;![Snipaste_20220115_165812.png](https://sg-blog-oss.oss-cn-beijing.aliyuncs.com/2022/01/15/1d9d283f5d874b468078b183e4b98b71.png)\\r\\n\\r\\n## sda \\r\\n\\r\\n222\\r\\n### sdasd newnewnew&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2022-01-17 14:58:37&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="easy-code插件配置" tabindex="-1"><a class="header-anchor" href="#easy-code插件配置" aria-hidden="true">#</a> easy-code插件配置</h2><p>为了避免重复编写代码，这里使用了IDEA的插件easy code。可以很方便的根据数据库的表生成对应的实体类、Mapper、Service、Controller。而且我们可以自定义生成模板。</p><blockquote><p>Mybatis-Plus配置</p></blockquote><h3 id="entity-java-vm" tabindex="-1"><a class="header-anchor" href="#entity-java-vm" aria-hidden="true">#</a> entity.java.vm</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>##导入宏定义
$<span class="token operator">!</span><span class="token punctuation">{</span>define<span class="token punctuation">.</span>vm<span class="token punctuation">}</span>

##保存文件（宏定义）
#<span class="token function">save</span><span class="token punctuation">(</span><span class="token string">&quot;/entity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.java&quot;</span><span class="token punctuation">)</span>

##包路径（宏定义）
#<span class="token function">setPackageSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;entity&quot;</span><span class="token punctuation">)</span>

##自动导入包（全局变量）
$<span class="token operator">!</span><span class="token punctuation">{</span>autoImport<span class="token punctuation">.</span>vm<span class="token punctuation">}</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableId</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableName</span></span><span class="token punctuation">;</span>

##表注释（宏定义）
#<span class="token function">tableComment</span><span class="token punctuation">(</span><span class="token string">&quot;表实体类&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">&quot;$!{tableInfo.obj.name}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>

#<span class="token function">foreach</span><span class="token punctuation">(</span>$column in $tableInfo<span class="token punctuation">.</span>pkColumn<span class="token punctuation">)</span>
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>column<span class="token punctuation">.</span>comment<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token doc-comment comment">/**
     * $<span class="token punctuation">{</span>column.comment<span class="token punctuation">}</span>
     */</span>#end
<span class="token annotation punctuation">@TableId</span>
    <span class="token keyword">private</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tool<span class="token punctuation">.</span><span class="token function">getClsNameByFullName</span><span class="token punctuation">(</span>$column<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">}</span> $<span class="token operator">!</span><span class="token punctuation">{</span>column<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">;</span>
#end
#<span class="token function">foreach</span><span class="token punctuation">(</span>$column in $tableInfo<span class="token punctuation">.</span>otherColumn<span class="token punctuation">)</span>
    
    #<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">{</span>column<span class="token punctuation">.</span>comment<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token doc-comment comment">/**
     * $<span class="token punctuation">{</span>column.comment<span class="token punctuation">}</span>
     */</span>#end
     
    <span class="token keyword">private</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tool<span class="token punctuation">.</span><span class="token function">getClsNameByFullName</span><span class="token punctuation">(</span>$column<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">}</span> $<span class="token operator">!</span><span class="token punctuation">{</span>column<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">;</span>
#end
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dao-java-vm" tabindex="-1"><a class="header-anchor" href="#dao-java-vm" aria-hidden="true">#</a> dao.java.vm</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>##导入宏定义
$<span class="token operator">!</span><span class="token punctuation">{</span>define<span class="token punctuation">.</span>vm<span class="token punctuation">}</span>

##设置表后缀（宏定义）
#<span class="token function">setTableSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;Mapper&quot;</span><span class="token punctuation">)</span>

##保存文件（宏定义）
#<span class="token function">save</span><span class="token punctuation">(</span><span class="token string">&quot;/mapper&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mapper.java&quot;</span><span class="token punctuation">)</span>

##包路径（宏定义）
#<span class="token function">setPackageSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;mapper&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">BaseMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>savePackageName<span class="token punctuation">}</span><span class="token punctuation">.</span>entity<span class="token punctuation">.</span>$<span class="token operator">!</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

##表注释（宏定义）
#<span class="token function">tableComment</span><span class="token punctuation">(</span><span class="token string">&quot;表数据库访问层&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableName<span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token operator">&lt;</span>$<span class="token operator">!</span>tableInfo<span class="token punctuation">.</span>name<span class="token operator">&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="service-java-vm" tabindex="-1"><a class="header-anchor" href="#service-java-vm" aria-hidden="true">#</a> service.java.vm</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>##导入宏定义
$<span class="token operator">!</span><span class="token punctuation">{</span>define<span class="token punctuation">.</span>vm<span class="token punctuation">}</span>

##设置表后缀（宏定义）
#<span class="token function">setTableSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;Service&quot;</span><span class="token punctuation">)</span>

##保存文件（宏定义）
#<span class="token function">save</span><span class="token punctuation">(</span><span class="token string">&quot;/service&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Service.java&quot;</span><span class="token punctuation">)</span>

##包路径（宏定义）
#<span class="token function">setPackageSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;service&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>savePackageName<span class="token punctuation">}</span><span class="token punctuation">.</span>entity<span class="token punctuation">.</span>$<span class="token operator">!</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

##表注释（宏定义）
#<span class="token function">tableComment</span><span class="token punctuation">(</span><span class="token string">&quot;表服务接口&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableName<span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token operator">&lt;</span>$<span class="token operator">!</span>tableInfo<span class="token punctuation">.</span>name<span class="token operator">&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="serviceimpl-java-vm" tabindex="-1"><a class="header-anchor" href="#serviceimpl-java-vm" aria-hidden="true">#</a> serviceImpl.java.vm</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>##导入宏定义
$<span class="token operator">!</span><span class="token punctuation">{</span>define<span class="token punctuation">.</span>vm<span class="token punctuation">}</span>

##设置表后缀（宏定义）
#<span class="token function">setTableSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;ServiceImpl&quot;</span><span class="token punctuation">)</span>

##保存文件（宏定义）
#<span class="token function">save</span><span class="token punctuation">(</span><span class="token string">&quot;/service/impl&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ServiceImpl.java&quot;</span><span class="token punctuation">)</span>

##包路径（宏定义）
#<span class="token function">setPackageSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;service.impl&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>savePackageName<span class="token punctuation">}</span><span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>$<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token class-name">Mapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>savePackageName<span class="token punctuation">}</span><span class="token punctuation">.</span>entity<span class="token punctuation">.</span>$<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>savePackageName<span class="token punctuation">}</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>$<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

##表注释（宏定义）
#<span class="token function">tableComment</span><span class="token punctuation">(</span><span class="token string">&quot;表服务实现类&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">&quot;$!tool.firstLowerCase($tableInfo.name)Service&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableName<span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token operator">&lt;</span>$<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token class-name">Mapper</span><span class="token punctuation">,</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token keyword">implements</span> $<span class="token operator">!</span><span class="token punctuation">{</span>tableInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token class-name">Service</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建实体类、mapper、service" tabindex="-1"><a class="header-anchor" href="#创建实体类、mapper、service" aria-hidden="true">#</a> 创建实体类、Mapper、Service</h2><p>对于文章表，博客的前台和后台都用得到。我们放到通用模块<code>sanfen-framework</code>中。使用easy-code插件：</p><figure><img src="`+p+'" alt="image-20220729145201657" tabindex="0" loading="lazy"><figcaption>image-20220729145201657</figcaption></figure><p>可以发现已经生成好，检查之后也没什么问题：</p><figure><img src="'+e+`" alt="image-20220729145321155" tabindex="0" loading="lazy"><figcaption>image-20220729145321155</figcaption></figure><h2 id="创建controller进行测试" tabindex="-1"><a class="header-anchor" href="#创建controller进行测试" aria-hidden="true">#</a> 创建controller进行测试</h2><p>现在我们进行的是前台的开发，前台和后台的controller是不通用的。所以我们在<code>sanfen-blog</code>中进行博客前台controller的创建：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/article&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArticleController</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ArticleService</span> articleService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/list&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Article</span><span class="token punctuation">&gt;</span></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> articleService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动项目，访问<code>http://localhost:7777/article/list</code>：</p><figure><img src="`+o+'" alt="image-20220729150552983" tabindex="0" loading="lazy"><figcaption>image-20220729150552983</figcaption></figure><p>测试成功。</p>',31),l=[i];function u(k,r){return s(),a("div",null,l)}const m=n(c,[["render",u],["__file","04.SpringBoot和Mybatis-Plus测试.html.vue"]]);export{m as default};
