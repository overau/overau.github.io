import{_ as t,V as l,W as c,Y as a,Z as s,$ as e,X as i,F as o}from"./framework-a569e214.js";const d="/img/elasticsearch/image-20210319103704405.png",p="/img/elasticsearch/image-20210319104015283.png",r="/img/elasticsearch/image-20210319104107862.png",u="/img/elasticsearch/image-20210319104656717.png",g="/img/elasticsearch/image-20210319104748201.png",m="/img/elasticsearch/image-20210319105145330.png",b="/img/elasticsearch/image-20210319105243015.png",h="/img/elasticsearch/image-20210319105411738.png",v="/img/elasticsearch/image-20210319105720246.png",k="/img/elasticsearch/image-20210319105824186.png",f="/img/elasticsearch/image-20210319110218647.png",_="/img/elasticsearch/image-20210319110430078.png",q="/img/elasticsearch/image-20210319110852714.png",x="/img/elasticsearch/image-20210319111003935.png",T="/img/elasticsearch/image-20210319111204833.png",y="/img/elasticsearch/image-20210319111239695.png",E="/img/elasticsearch/image-20210319111357349.png",z="/img/elasticsearch/image-20210319111425548.png",P={},S=i(`<blockquote><p>REST是一种软件架构风格，或者说是一种规范，其强调HTTP应当以资源为中心，并且规范了URI的风格。规范了HTTP请求动作（GET/PUT/POST/DELETE/HEAD/OPTIONS）的使用，具有对应的语义。基于这个风格设计的软件可以更简洁，更有层次，更易于实现缓存等机制。</p></blockquote><h2 id="基本rest命令" tabindex="-1"><a class="header-anchor" href="#基本rest命令" aria-hidden="true">#</a> 基本Rest命令</h2><table><thead><tr><th>method</th><th>url地址</th><th>描述</th></tr></thead><tbody><tr><td>PUT</td><td>localhost:9200/索引名称/类型名称/文档id</td><td>创建文档（指定文档id）</td></tr><tr><td>POST</td><td>localhost:9200/索引名称/类型名称</td><td>创建文档（随机文档id）</td></tr><tr><td>POST</td><td>localhost:9200/索引名称/类型名称/文档id/_update</td><td>修改文档</td></tr><tr><td>DELETE</td><td>localhost:9200/索引名称/类型名称/文档id</td><td>删除文档</td></tr><tr><td>GET</td><td>localhost:9200/索引名称/类型名称/文档id</td><td>通过文档id查询文档</td></tr><tr><td>POST</td><td>localhost:9200/索引名称/类型名称/_search</td><td>查询所有数据</td></tr></tbody></table><h2 id="基础测试" tabindex="-1"><a class="header-anchor" href="#基础测试" aria-hidden="true">#</a> 基础测试</h2><blockquote><p>创建索引</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># PUT /索引名/~类型名~/文档id</span>
<span class="token comment"># {请求体}</span>
PUT /test1/type1/1
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;狂神说&quot;</span>,
  <span class="token string">&quot;age&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+d+'" alt="image-20210319103704405" tabindex="0" loading="lazy"><figcaption>image-20210319103704405</figcaption></figure>',7),U={href:"http://localhost:9100/",target:"_blank",rel:"noopener noreferrer"},G=a("figure",null,[a("img",{src:p,alt:"image-20210319104015283",tabindex:"0",loading:"lazy"}),a("figcaption",null,"image-20210319104015283")],-1),O=a("p",null,"数据浏览：完成了自动增加索引。数据也成功的添加了。",-1),w=a("figure",null,[a("img",{src:r,alt:"image-20210319104107862",tabindex:"0",loading:"lazy"}),a("figcaption",null,"image-20210319104107862")],-1),L=a("h2",{id:"指定字段的类型",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#指定字段的类型","aria-hidden":"true"},"#"),s(" 指定字段的类型")],-1),D={href:"https://www.elastic.co/guide/en/elasticsearch/reference/7.6/mapping-types.html",target:"_blank",rel:"noopener noreferrer"},N=i('<figure><img src="'+u+'" alt="image-20210319104656717" tabindex="0" loading="lazy"><figcaption>image-20210319104656717</figcaption></figure><figure><img src="'+g+`" alt="image-20210319104748201" tabindex="0" loading="lazy"><figcaption>image-20210319104748201</figcaption></figure><blockquote><p>Kibana中创建规则</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>PUT /test2
<span class="token punctuation">{</span>
  <span class="token string">&quot;mappings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;properties&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;text&quot;</span>
      <span class="token punctuation">}</span>,
      <span class="token string">&quot;age&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;long&quot;</span>
      <span class="token punctuation">}</span>,
      <span class="token string">&quot;birthday&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;date&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+m+'" alt="image-20210319105145330" tabindex="0" loading="lazy"><figcaption>image-20210319105145330</figcaption></figure><blockquote><p>在head中查看</p></blockquote><figure><img src="'+b+`" alt="image-20210319105243015" tabindex="0" loading="lazy"><figcaption>image-20210319105243015</figcaption></figure><blockquote><p>获得规则 GET请求</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>GET /test2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+h+`" alt="image-20210319105411738" tabindex="0" loading="lazy"><figcaption>image-20210319105411738</figcaption></figure><blockquote><p>查看默认的信息</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>PUT /test3/_doc/1
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;狂神说&quot;</span>,
  <span class="token string">&quot;age&quot;</span><span class="token builtin class-name">:</span> <span class="token number">13</span>,
  <span class="token string">&quot;birth&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1997-10-10&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+v+`" alt="image-20210319105720246" tabindex="0" loading="lazy"><figcaption>image-20210319105720246</figcaption></figure><p>查看默认的类型：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>GET /test3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+k+`" alt="image-20210319105824186" tabindex="0" loading="lazy"><figcaption>image-20210319105824186</figcaption></figure><p>如果自己的文档字段没有指定类型，那么ES会给我们默认配置字段类型。</p><h2 id="扩展命令" tabindex="-1"><a class="header-anchor" href="#扩展命令" aria-hidden="true">#</a> 扩展命令</h2><blockquote><p>查看ES索引情况</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>GET _cat/health
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+f+`" alt="image-20210319110218647" tabindex="0" loading="lazy"><figcaption>image-20210319110218647</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>GET _cat/indices?v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+_+`" alt="image-20210319110430078" tabindex="0" loading="lazy"><figcaption>image-20210319110430078</figcaption></figure><h2 id="修改索引" tabindex="-1"><a class="header-anchor" href="#修改索引" aria-hidden="true">#</a> 修改索引</h2><blockquote><p>修改提交还是使用PUT。然后覆盖。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>PUT /test3/_doc/1
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;狂神说123&quot;</span>,
  <span class="token string">&quot;age&quot;</span><span class="token builtin class-name">:</span> <span class="token number">13</span>,
  <span class="token string">&quot;birth&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1997-10-10&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+q+'" alt="image-20210319110852714" tabindex="0" loading="lazy"><figcaption>image-20210319110852714</figcaption></figure><p><code>修改之后版本号会增加。</code></p><p>查看head界面：</p><figure><img src="'+x+`" alt="image-20210319111003935" tabindex="0" loading="lazy"><figcaption>image-20210319111003935</figcaption></figure><blockquote><p>使用_update修改</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>POST /test3/_doc/1/_update
<span class="token punctuation">{</span>
  <span class="token string">&quot;doc&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;张三三&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+T+'" alt="image-20210319111204833" tabindex="0" loading="lazy"><figcaption>image-20210319111204833</figcaption></figure><p>查看head界面：</p><figure><img src="'+y+`" alt="image-20210319111239695" tabindex="0" loading="lazy"><figcaption>image-20210319111239695</figcaption></figure><h2 id="删除索引" tabindex="-1"><a class="header-anchor" href="#删除索引" aria-hidden="true">#</a> 删除索引</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>DELETE test1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+E+'" alt="image-20210319111357349" tabindex="0" loading="lazy"><figcaption>image-20210319111357349</figcaption></figure><p>查看head界面：</p><figure><img src="'+z+'" alt="image-20210319111425548" tabindex="0" loading="lazy"><figcaption>image-20210319111425548</figcaption></figure><blockquote><p>通过DELETE命令实现删除，根据请求来判断是删除索引还是删除文档记录。</p></blockquote>',41);function R(V,I){const n=o("ExternalLinkIcon");return l(),c("div",null,[S,a("p",null,[s("查看"),a("a",U,[s("http://localhost:9100/"),e(n)])]),G,O,w,L,a("p",null,[s("官方文档："),a("a",D,[s("https://www.elastic.co/guide/en/elasticsearch/reference/7.6/mapping-types.html"),e(n)])]),N])}const H=t(P,[["render",R],["__file","08.Rest风格操作.html.vue"]]);export{H as default};
