import{_ as n,V as l,W as a,Y as t,Z as e,$ as d,X as o,F as r}from"./framework-a569e214.js";const i="/img/redis/image-20201228161700737.png",c={},p=t("p",null,"redis-benchmark是一个压力测试工具。官方自带的性能测试工具。",-1),g={href:"https://www.runoob.com/redis/redis-benchmarks.html",target:"_blank",rel:"noopener noreferrer"},m=o(`<table><thead><tr><th style="text-align:left;">序号</th><th style="text-align:left;">选项</th><th style="text-align:left;">描述</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;"><strong>-h</strong></td><td style="text-align:left;">指定服务器主机名</td><td style="text-align:left;">127.0.0.1</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;"><strong>-p</strong></td><td style="text-align:left;">指定服务器端口</td><td style="text-align:left;">6379</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;"><strong>-s</strong></td><td style="text-align:left;">指定服务器 socket</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;"><strong>-c</strong></td><td style="text-align:left;">指定并发连接数</td><td style="text-align:left;">50</td></tr><tr><td style="text-align:left;">5</td><td style="text-align:left;"><strong>-n</strong></td><td style="text-align:left;">指定请求数</td><td style="text-align:left;">10000</td></tr><tr><td style="text-align:left;">6</td><td style="text-align:left;"><strong>-d</strong></td><td style="text-align:left;">以字节的形式指定 SET/GET 值的数据大小</td><td style="text-align:left;">2</td></tr><tr><td style="text-align:left;">7</td><td style="text-align:left;"><strong>-k</strong></td><td style="text-align:left;">1=keep alive 0=reconnect</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">8</td><td style="text-align:left;"><strong>-r</strong></td><td style="text-align:left;">SET/GET/INCR 使用随机 key, SADD 使用随机值</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">9</td><td style="text-align:left;"><strong>-P</strong></td><td style="text-align:left;">通过管道传输 &lt;numreq&gt; 请求</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">10</td><td style="text-align:left;"><strong>-q</strong></td><td style="text-align:left;">强制退出 redis。仅显示 query/sec 值</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">11</td><td style="text-align:left;"><strong>--csv</strong></td><td style="text-align:left;">以 CSV 格式输出</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">12</td><td style="text-align:left;"><strong>-l</strong></td><td style="text-align:left;">生成循环，永久执行测试</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">13</td><td style="text-align:left;"><strong>-t</strong></td><td style="text-align:left;">仅运行以逗号分隔的测试命令列表。</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">14</td><td style="text-align:left;"><strong>-I</strong></td><td style="text-align:left;">Idle 模式。仅打开 N 个 idle 连接并等待。</td><td style="text-align:left;"></td></tr></tbody></table><blockquote><p>测试：100个并发、100000个请求</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iz2ze88y8n1wfg7e488dbkz bin<span class="token punctuation">]</span><span class="token comment">#redis-benchmark -h localhost -p 6379 -c 100 -n 100000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+i+`" alt="image-20201228161700737" tabindex="0" loading="lazy"><figcaption>image-20201228161700737</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> SET <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
  <span class="token number">100000</span> requests completed <span class="token keyword">in</span> <span class="token number">2.77</span> seconds	<span class="token comment"># 对10万请求进行写入测试</span>
  <span class="token number">100</span> parallel clients	<span class="token comment"># 100个并非的客户端</span>
  <span class="token number">3</span> bytes payload	<span class="token comment"># 每次写入3个字节</span>
  keep alive: <span class="token number">1</span>	<span class="token comment"># 只有一台服务器来处理这些请求。单机性能</span>
  <span class="token function">host</span> configuration <span class="token string">&quot;save&quot;</span><span class="token builtin class-name">:</span> <span class="token number">900</span> <span class="token number">1</span> <span class="token number">300</span> <span class="token number">10</span> <span class="token number">60</span> <span class="token number">10000</span>
  <span class="token function">host</span> configuration <span class="token string">&quot;appendonly&quot;</span><span class="token builtin class-name">:</span> no
  multi-thread: no

<span class="token number">9.05</span>% <span class="token operator">&lt;=</span> <span class="token number">1</span> milliseconds
<span class="token number">60.67</span>% <span class="token operator">&lt;=</span> <span class="token number">2</span> milliseconds
<span class="token number">98.61</span>% <span class="token operator">&lt;=</span> <span class="token number">3</span> milliseconds
<span class="token number">99.84</span>% <span class="token operator">&lt;=</span> <span class="token number">4</span> milliseconds
<span class="token number">99.95</span>% <span class="token operator">&lt;=</span> <span class="token number">5</span> milliseconds
<span class="token number">100.00</span>% <span class="token operator">&lt;=</span> <span class="token number">5</span> milliseconds	<span class="token comment"># 所有请求在5毫秒内处理完成</span>
<span class="token number">36114.12</span> requests per second	<span class="token comment"># 每秒处理36114.12个请求</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function u(f,k){const s=r("ExternalLinkIcon");return l(),a("div",null,[p,t("p",null,[e("redis 性能测试工具可选参数如下所示："),t("a",g,[e("https://www.runoob.com/redis/redis-benchmarks.html"),d(s)])]),m])}const b=n(c,[["render",u],["__file","09.redis-benchmark性能测试.html.vue"]]);export{b as default};
